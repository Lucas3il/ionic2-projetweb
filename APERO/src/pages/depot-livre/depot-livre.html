<!--
  Generated template for the DepotLivre page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header>

  <ion-navbar>
    <ion-title>Dépot de livre de la famille {{famille.nom}}</ion-title>
  </ion-navbar>

</ion-header>


<ion-content padding>
  <div class="gauche">
    <ion-list *ngIf="allDepot.length>0" class="listeLivre">
      <ul>
        <li *ngFor="let livre of allDepot; let i = index">
          <b>{{livre.Titre}}</b><br/>{{livre.Auteur}}, {{livre.Editeur}}, {{livre.AnneeMiseADispo_Exemplaire}}, {{livre.Etat_Exemplaire}} <button ion-button><ion-icon right name="trash" (click)="supprimeDepot(i)"></ion-icon></button>
        </li>
      </ul>
    </ion-list>
    <button ion-button color="secondary" (click)="validerListe()" *ngIf="allDepot.length>0">Valider la liste</button>
  </div>
  <div class="droite">
    <ul>
      <li *ngFor="let livre of listeOeuvres; let i = index" >
        <b>{{livre.Titre_Livre}}</b><br/>{{livre.Nom_Auteur}} {{livre.Prenom_Auteur}} {{livre.Nom_Editeur}} {{livre.AnneeParution_Livre}} <button ion-button (click)="selectLivre(i)"><ion-icon name="add-circle"></ion-icon></button>
      </li>
    </ul>
    <ion-item *ngIf="livreChoisi">
      <ion-label floating>Etat</ion-label>
      <ion-select [(ngModel)]="etat">
        <ion-option>tres bon</ion-option>
        <ion-option>bon</ion-option>
        <ion-option>assez bon</ion-option>
        <ion-option>endommagé</ion-option>
      </ion-select>
    </ion-item>
    <ion-item *ngIf="livreChoisi">
      <ion-label floating>Annee de mise en circulation</ion-label>
      <ion-select [(ngModel)]="annee">
        <ion-option *ngFor="let annee of tabAnnee">{{annee}}</ion-option>
      </ion-select>
    </ion-item>

    <button ion-button *ngIf="livreChoisi" (click)="ajoutDepot(etat, annee)">Ajout dépot</button>
  </div>

</ion-content>
